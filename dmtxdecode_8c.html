<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdmtx: src/decode/dmtxdecode.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdmtx<span id="projectnumber">&#160;0.7.8.7</span>
   </div>
   <div id="projectbrief">libdmtx is a software library that enables programs to read and write Data Matrix barcodes of the modern ECC200 variety.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dmtxdecode_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">dmtxdecode.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>libdmtx - Data Matrix Encoding/Decoding Library Copyright 2008, 2009 Mike Laughton.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="dmtx_8h_source.html">dmtx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dmtxstatic_8h_source.html">dmtxstatic.h</a>&quot;</code><br />
</div>
<p><a href="dmtxdecode_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a56f09533da1d0507b3c2ebcf5201d1d6" id="r_a56f09533da1d0507b3c2ebcf5201d1d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56f09533da1d0507b3c2ebcf5201d1d6">dmtxDecodeCreate</a> (<a class="el" href="dmtx_8h.html#a5cecfe5831fcd36e3ba5b83ca409cf73">DmtxImage</a> *img, int scale)</td></tr>
<tr class="memdesc:a56f09533da1d0507b3c2ebcf5201d1d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize decode struct with default values.  <br /></td></tr>
<tr class="separator:a56f09533da1d0507b3c2ebcf5201d1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86eff99f83904f1399934c43286c27ea" id="r_a86eff99f83904f1399934c43286c27ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dmtx_8h.html#a0368a3af46c0b24bf0cdfb9746270f2f">DmtxPassFail</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86eff99f83904f1399934c43286c27ea">dmtxDecodeDestroy</a> (<a class="el" href="structDmtxDecode.html">DmtxDecode</a> **dec)</td></tr>
<tr class="memdesc:a86eff99f83904f1399934c43286c27ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitialize decode struct.  <br /></td></tr>
<tr class="separator:a86eff99f83904f1399934c43286c27ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99fc8f8f3614b1e90c0b7f29ccb52be5" id="r_a99fc8f8f3614b1e90c0b7f29ccb52be5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dmtx_8h.html#a0368a3af46c0b24bf0cdfb9746270f2f">DmtxPassFail</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99fc8f8f3614b1e90c0b7f29ccb52be5">dmtxDecodeSetProp</a> (<a class="el" href="structDmtxDecode.html">DmtxDecode</a> *dec, int prop, int value)</td></tr>
<tr class="memdesc:a99fc8f8f3614b1e90c0b7f29ccb52be5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set decoding behavior property.  <br /></td></tr>
<tr class="separator:a99fc8f8f3614b1e90c0b7f29ccb52be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1759ffb10a7ab1c81233033b6781ab1" id="r_ab1759ffb10a7ab1c81233033b6781ab1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1759ffb10a7ab1c81233033b6781ab1">dmtxDecodeGetProp</a> (<a class="el" href="structDmtxDecode.html">DmtxDecode</a> *dec, int prop)</td></tr>
<tr class="memdesc:ab1759ffb10a7ab1c81233033b6781ab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get decoding behavior property.  <br /></td></tr>
<tr class="separator:ab1759ffb10a7ab1c81233033b6781ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a433f1bbffa8885dae88ee9c74c59780f" id="r_a433f1bbffa8885dae88ee9c74c59780f"><td class="memItemLeft" align="right" valign="top">unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a433f1bbffa8885dae88ee9c74c59780f">dmtxDecodeGetCache</a> (<a class="el" href="structDmtxDecode.html">DmtxDecode</a> *dec, int x, int y)</td></tr>
<tr class="memdesc:a433f1bbffa8885dae88ee9c74c59780f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns xxx.  <br /></td></tr>
<tr class="separator:a433f1bbffa8885dae88ee9c74c59780f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ec7fb7638fdd4f17a106653af1c9b1" id="r_a81ec7fb7638fdd4f17a106653af1c9b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dmtx_8h.html#a0368a3af46c0b24bf0cdfb9746270f2f">DmtxPassFail</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81ec7fb7638fdd4f17a106653af1c9b1">dmtxDecodeGetPixelValue</a> (<a class="el" href="structDmtxDecode.html">DmtxDecode</a> *dec, int x, int y, int channel, <a class="el" href="dmtx_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> int *value)</td></tr>
<tr class="memdesc:a81ec7fb7638fdd4f17a106653af1c9b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取图像像素  <br /></td></tr>
<tr class="separator:a81ec7fb7638fdd4f17a106653af1c9b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa328797429e5184e28329fd0109b75cb" id="r_aa328797429e5184e28329fd0109b75cb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa328797429e5184e28329fd0109b75cb">cacheFillQuad</a> (<a class="el" href="structDmtxDecode.html">DmtxDecode</a> *dec, <a class="el" href="dmtx_8h.html#a817db702dcc81df1c6e5082074a351d5">DmtxPixelLoc</a> p0, <a class="el" href="dmtx_8h.html#a817db702dcc81df1c6e5082074a351d5">DmtxPixelLoc</a> p1, <a class="el" href="dmtx_8h.html#a817db702dcc81df1c6e5082074a351d5">DmtxPixelLoc</a> p2, <a class="el" href="dmtx_8h.html#a817db702dcc81df1c6e5082074a351d5">DmtxPixelLoc</a> p3)</td></tr>
<tr class="memdesc:aa328797429e5184e28329fd0109b75cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill the region covered by the quadrilateral given by (p0,p1,p2,p3) in the cache.  <br /></td></tr>
<tr class="separator:aa328797429e5184e28329fd0109b75cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9774ed99ef4d0bacbde171c7e69cbca" id="r_ad9774ed99ef4d0bacbde171c7e69cbca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dmtx_8h.html#a66a2201ef5f12dd9c5ab9380794ce9ee">DmtxMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9774ed99ef4d0bacbde171c7e69cbca">dmtxDecodeMatrixRegion</a> (<a class="el" href="structDmtxDecode.html">DmtxDecode</a> *dec, <a class="el" href="dmtx_8h.html#a9500f56413674cdb326eff544dec0dda">DmtxRegion</a> *reg, int fix)</td></tr>
<tr class="memdesc:ad9774ed99ef4d0bacbde171c7e69cbca"><td class="mdescLeft">&#160;</td><td class="mdescRight">解码拟合的二维码区域  <br /></td></tr>
<tr class="separator:ad9774ed99ef4d0bacbde171c7e69cbca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf1222bb00e5fbb828858c7f0cc83a7" id="r_a8bf1222bb00e5fbb828858c7f0cc83a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dmtx_8h.html#a66a2201ef5f12dd9c5ab9380794ce9ee">DmtxMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8bf1222bb00e5fbb828858c7f0cc83a7">dmtxDecodePopulatedArray</a> (int sizeIdx, <a class="el" href="dmtx_8h.html#a62766f3ea8784d1db62df989f8f33d2d">INOUT</a> <a class="el" href="dmtx_8h.html#a66a2201ef5f12dd9c5ab9380794ce9ee">DmtxMessage</a> *msg, int fix)</td></tr>
<tr class="memdesc:a8bf1222bb00e5fbb828858c7f0cc83a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">从DataMatrix数据区二进制矩阵解码，并将结果写入msg-&gt;output  <br /></td></tr>
<tr class="separator:a8bf1222bb00e5fbb828858c7f0cc83a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66db40aa6ef5416068f3386c6b0e0fdf" id="r_a66db40aa6ef5416068f3386c6b0e0fdf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dmtx_8h.html#a66a2201ef5f12dd9c5ab9380794ce9ee">DmtxMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66db40aa6ef5416068f3386c6b0e0fdf">dmtxDecodeMosaicRegion</a> (<a class="el" href="structDmtxDecode.html">DmtxDecode</a> *dec, <a class="el" href="dmtx_8h.html#a9500f56413674cdb326eff544dec0dda">DmtxRegion</a> *reg, int fix)</td></tr>
<tr class="memdesc:a66db40aa6ef5416068f3386c6b0e0fdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert fitted Data Mosaic region into a decoded message.  <br /></td></tr>
<tr class="separator:a66db40aa6ef5416068f3386c6b0e0fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a399eab7056485bc6a4490a9676b3237f" id="r_a399eab7056485bc6a4490a9676b3237f"><td class="memItemLeft" align="right" valign="top">unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a399eab7056485bc6a4490a9676b3237f">dmtxDecodeCreateDiagnostic</a> (<a class="el" href="structDmtxDecode.html">DmtxDecode</a> *dec, int *totalBytes, int *headerBytes, int style)</td></tr>
<tr class="separator:a399eab7056485bc6a4490a9676b3237f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c266ece40ef8658a6fefbc1061e4481" id="r_a3c266ece40ef8658a6fefbc1061e4481"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c266ece40ef8658a6fefbc1061e4481">tallyModuleJumps</a> (<a class="el" href="structDmtxDecode.html">DmtxDecode</a> *dec, <a class="el" href="dmtx_8h.html#a9500f56413674cdb326eff544dec0dda">DmtxRegion</a> *reg, <a class="el" href="dmtx_8h.html#a62766f3ea8784d1db62df989f8f33d2d">INOUT</a> int tally[][24], int xOrigin, int yOrigin, int mapWidth, int mapHeight, <a class="el" href="dmtx_8h.html#a2f99be29ad0d41ab1926e0cf7f553a74">DmtxDirection</a> dir)</td></tr>
<tr class="memdesc:a3c266ece40ef8658a6fefbc1061e4481"><td class="mdescLeft">&#160;</td><td class="mdescRight">通过指定方向对判断bit为1的码元位置记录对应的值  <br /></td></tr>
<tr class="separator:a3c266ece40ef8658a6fefbc1061e4481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a576c66d6c8ea535749c7309a3ab8832a" id="r_a576c66d6c8ea535749c7309a3ab8832a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="dmtx_8h.html#a0368a3af46c0b24bf0cdfb9746270f2f">DmtxPassFail</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a576c66d6c8ea535749c7309a3ab8832a">populateArrayFromMatrix</a> (<a class="el" href="structDmtxDecode.html">DmtxDecode</a> *dec, <a class="el" href="dmtx_8h.html#a9500f56413674cdb326eff544dec0dda">DmtxRegion</a> *reg, <a class="el" href="dmtx_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="dmtx_8h.html#a66a2201ef5f12dd9c5ab9380794ce9ee">DmtxMessage</a> *msg)</td></tr>
<tr class="memdesc:a576c66d6c8ea535749c7309a3ab8832a"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据模块颜色填充数组以确定码字值。  <br /></td></tr>
<tr class="separator:a576c66d6c8ea535749c7309a3ab8832a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>libdmtx - Data Matrix Encoding/Decoding Library Copyright 2008, 2009 Mike Laughton. </p>
<p>All rights reserved. Copyright 2009 Mackenzie Straight. All rights reserved. Copyright 2012-2016 Vadim A. Misbakh-Soloviov. All rights reserved. Copyright 2016 Tim Zaman. All rights reserved.</p>
<p>See LICENSE file in the main project directory for full terms of use and distribution.</p>
<p>Contact: Vadim A. Misbakh-Soloviov <a href="#" onclick="location.href='mai'+'lto:'+'dmt'+'x@'+'mva'+'.n'+'ame'; return false;">dmtx@<span class="obfuscator">.nosp@m.</span>mva.<span class="obfuscator">.nosp@m.</span>name</a> Mike Laughton <a href="#" onclick="location.href='mai'+'lto:'+'mik'+'e@'+'dra'+'go'+'nfl'+'yl'+'ogi'+'c.'+'com'; return false;">mike@<span class="obfuscator">.nosp@m.</span>drag<span class="obfuscator">.nosp@m.</span>onfly<span class="obfuscator">.nosp@m.</span>logi<span class="obfuscator">.nosp@m.</span>c.com</a></p>
<p>Decode regions </p>

<p class="definition">Definition in file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa328797429e5184e28329fd0109b75cb" name="aa328797429e5184e28329fd0109b75cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa328797429e5184e28329fd0109b75cb">&#9670;&#160;</a></span>cacheFillQuad()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cacheFillQuad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> *</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a817db702dcc81df1c6e5082074a351d5">DmtxPixelLoc</a></td>          <td class="paramname"><span class="paramname"><em>p0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a817db702dcc81df1c6e5082074a351d5">DmtxPixelLoc</a></td>          <td class="paramname"><span class="paramname"><em>p1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a817db702dcc81df1c6e5082074a351d5">DmtxPixelLoc</a></td>          <td class="paramname"><span class="paramname"><em>p2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a817db702dcc81df1c6e5082074a351d5">DmtxPixelLoc</a></td>          <td class="paramname"><span class="paramname"><em>p3</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill the region covered by the quadrilateral given by (p0,p1,p2,p3) in the cache. </p>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00272">272</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="a56f09533da1d0507b3c2ebcf5201d1d6" name="a56f09533da1d0507b3c2ebcf5201d1d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f09533da1d0507b3c2ebcf5201d1d6">&#9670;&#160;</a></span>dmtxDecodeCreate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> * dmtxDecodeCreate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a5cecfe5831fcd36e3ba5b83ca409cf73">DmtxImage</a> *</td>          <td class="paramname"><span class="paramname"><em>img</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>scale</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize decode struct with default values. </p>
<dl class="section return"><dt>Returns</dt><dd>Initialized <a class="el" href="structDmtxDecode.html" title="DmtxDecode.">DmtxDecode</a> struct </dd></dl>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00032">32</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="a399eab7056485bc6a4490a9676b3237f" name="a399eab7056485bc6a4490a9676b3237f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a399eab7056485bc6a4490a9676b3237f">&#9670;&#160;</a></span>dmtxDecodeCreateDiagnostic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char * dmtxDecodeCreateDiagnostic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> *</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>totalBytes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>headerBytes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>style</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00499">499</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="a86eff99f83904f1399934c43286c27ea" name="a86eff99f83904f1399934c43286c27ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86eff99f83904f1399934c43286c27ea">&#9670;&#160;</a></span>dmtxDecodeDestroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dmtx_8h.html#a0368a3af46c0b24bf0cdfb9746270f2f">DmtxPassFail</a> dmtxDecodeDestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> **</td>          <td class="paramname"><span class="paramname"><em>dec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deinitialize decode struct. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dec</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00077">77</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="a433f1bbffa8885dae88ee9c74c59780f" name="a433f1bbffa8885dae88ee9c74c59780f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a433f1bbffa8885dae88ee9c74c59780f">&#9670;&#160;</a></span>dmtxDecodeGetCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char * dmtxDecodeGetCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> *</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>y</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns xxx. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dec</td><td></td></tr>
    <tr><td class="paramname">x</td><td>Scaled x coordinate </td></tr>
    <tr><td class="paramname">y</td><td>Scaled y coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Scaled pixel offset </dd></dl>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00211">211</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="a81ec7fb7638fdd4f17a106653af1c9b1" name="a81ec7fb7638fdd4f17a106653af1c9b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ec7fb7638fdd4f17a106653af1c9b1">&#9670;&#160;</a></span>dmtxDecodeGetPixelValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dmtx_8h.html#a0368a3af46c0b24bf0cdfb9746270f2f">DmtxPassFail</a> dmtxDecodeGetPixelValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> *</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>channel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> int *</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取图像像素 </p>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00233">233</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="ab1759ffb10a7ab1c81233033b6781ab1" name="ab1759ffb10a7ab1c81233033b6781ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1759ffb10a7ab1c81233033b6781ab1">&#9670;&#160;</a></span>dmtxDecodeGetProp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int dmtxDecodeGetProp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> *</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>prop</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get decoding behavior property. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dec</td><td></td></tr>
    <tr><td class="paramname">prop</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value </dd></dl>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00166">166</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="ad9774ed99ef4d0bacbde171c7e69cbca" name="ad9774ed99ef4d0bacbde171c7e69cbca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9774ed99ef4d0bacbde171c7e69cbca">&#9670;&#160;</a></span>dmtxDecodeMatrixRegion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dmtx_8h.html#a66a2201ef5f12dd9c5ab9380794ce9ee">DmtxMessage</a> * dmtxDecodeMatrixRegion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> *</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a9500f56413674cdb326eff544dec0dda">DmtxRegion</a> *</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fix</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>解码拟合的二维码区域 </p>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00336">336</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="a66db40aa6ef5416068f3386c6b0e0fdf" name="a66db40aa6ef5416068f3386c6b0e0fdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66db40aa6ef5416068f3386c6b0e0fdf">&#9670;&#160;</a></span>dmtxDecodeMosaicRegion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dmtx_8h.html#a66a2201ef5f12dd9c5ab9380794ce9ee">DmtxMessage</a> * dmtxDecodeMosaicRegion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> *</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a9500f56413674cdb326eff544dec0dda">DmtxRegion</a> *</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fix</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert fitted Data Mosaic region into a decoded message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dec</td><td></td></tr>
    <tr><td class="paramname">reg</td><td></td></tr>
    <tr><td class="paramname">fix</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Decoded message </dd></dl>
<p>Consider performing a color cube fit here to identify exact RGB of all 6 "cube-like" corners based on pixels located within region. Then force each sample pixel to the "cube-like" corner based o which one is nearest "sqrt(dr^2+dg^2+db^2)" (except sqrt is unnecessary). colorPlane = reg-&gt;flowBegin.plane;</p>
<p>To find RGB values of primary colors, perform something like a histogram except instead of going from black to color N, go from (127,127,127) to color. Use color bins along with distance to identify value. An additional method will be required to get actual RGB instead of just a plane in 3D.</p>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00436">436</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="a8bf1222bb00e5fbb828858c7f0cc83a7" name="a8bf1222bb00e5fbb828858c7f0cc83a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bf1222bb00e5fbb828858c7f0cc83a7">&#9670;&#160;</a></span>dmtxDecodePopulatedArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dmtx_8h.html#a66a2201ef5f12dd9c5ab9380794ce9ee">DmtxMessage</a> * dmtxDecodePopulatedArray </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sizeIdx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a62766f3ea8784d1db62df989f8f33d2d">INOUT</a> <a class="el" href="dmtx_8h.html#a66a2201ef5f12dd9c5ab9380794ce9ee">DmtxMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fix</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>从DataMatrix数据区二进制矩阵解码，并将结果写入msg-&gt;output </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sizeIdx</td><td>数据矩阵的尺寸索引，对应不同的符号大小。 </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">msg</td><td>已经填充模块状态的解码消息结构体实例。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fix</td><td>纠错级别指示符，指定解码时使用的错误纠正能力, 默认DmtxUndefined</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>使用此函数时，应将msg变量重新赋值为该函数的返回值，因为当返回NULL时，表示msg已被释放，不应再被使用。 示例用法：msg = dmtxDecodePopulatedArray(sizeidx, msg, fix); </dd></dl>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00390">390</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="a99fc8f8f3614b1e90c0b7f29ccb52be5" name="a99fc8f8f3614b1e90c0b7f29ccb52be5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99fc8f8f3614b1e90c0b7f29ccb52be5">&#9670;&#160;</a></span>dmtxDecodeSetProp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dmtx_8h.html#a0368a3af46c0b24bf0cdfb9746270f2f">DmtxPassFail</a> dmtxDecodeSetProp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> *</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>prop</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set decoding behavior property. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dec</td><td></td></tr>
    <tr><td class="paramname">prop</td><td></td></tr>
    <tr><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DmtxPass | DmtxFail </dd></dl>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00101">101</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="a576c66d6c8ea535749c7309a3ab8832a" name="a576c66d6c8ea535749c7309a3ab8832a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a576c66d6c8ea535749c7309a3ab8832a">&#9670;&#160;</a></span>populateArrayFromMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="dmtx_8h.html#a0368a3af46c0b24bf0cdfb9746270f2f">DmtxPassFail</a> populateArrayFromMatrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> *</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a9500f56413674cdb326eff544dec0dda">DmtxRegion</a> *</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="dmtx_8h.html#a66a2201ef5f12dd9c5ab9380794ce9ee">DmtxMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>根据模块颜色填充数组以确定码字值。 </p>
<p>此函数遍历数据矩阵的各个区域，统计每个模块的颜色跳变，以推断出每个模块是黑（代表1）还是白（代表0）。 这一过程对于解码数据矩阵中的信息至关重要。函数首先计算整个符号的区域数量、区域尺寸等关键属性， 然后根据模块颜色对比和累加的“跳跃”计数来确定每个模块的状态，最后更新消息数组以反映解码结果。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dec</td><td>解码上下文，包含解码配置和辅助函数。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg</td><td>当前处理的数据矩阵区域信息。 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">msg</td><td>根据图像更新array </td></tr>
  </table>
  </dd>
</dl>
<p>从四个方向对图像满足跳变的点求和</p>
<p>对下面2x3的数据区域的计算流程: |XX | | XX XX|</p>
<p>首先 weightFactor = 2 * (2(高) + 3(宽) + 2) = 14</p>
<ol type="1">
<li>从下到上 2. 从右到左 3. 从上到下 4. 从左到右 |1x2 | |1x2 | |2x2 | |3x2 | | 2x2 2x2| | 2x2 3x2| | 1x2 1x2| | 2x2 1x2|</li>
</ol>
<p>该方向上**判断为1**的码元位置记录值，记录的内容为 宽/高-码元位置坐标</p>
<p>对上面得到的4个矩阵求和可得: |14 | | 14 14|</p>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00705">705</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
<a id="a3c266ece40ef8658a6fefbc1061e4481" name="a3c266ece40ef8658a6fefbc1061e4481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c266ece40ef8658a6fefbc1061e4481">&#9670;&#160;</a></span>tallyModuleJumps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tallyModuleJumps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDmtxDecode.html">DmtxDecode</a> *</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a9500f56413674cdb326eff544dec0dda">DmtxRegion</a> *</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a62766f3ea8784d1db62df989f8f33d2d">INOUT</a> int</td>          <td class="paramname"><span class="paramname"><em>tally</em></span>[][24], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>xOrigin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>yOrigin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>mapWidth</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>mapHeight</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dmtx_8h.html#a2f99be29ad0d41ab1926e0cf7f553a74">DmtxDirection</a></td>          <td class="paramname"><span class="paramname"><em>dir</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>通过指定方向对判断bit为1的码元位置记录对应的值 </p>
<p>此函数遍历数据矩阵区域中的模块，根据模块颜色跳变的阈值来累加计数器（tally）， 以此推断模块的明暗状态（代表二进制值）。它支持向上、向下、向左、向右四个方向的遍历。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dec</td><td>解码上下文，包含解码配置和辅助函数 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg</td><td>当前处理的数据矩阵区域信息 </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">tally</td><td>二维数组，用于累加模块状态的计数 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xOrigin</td><td>起始位置X坐标 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yOrigin</td><td>起始位置Y坐标 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapWidth</td><td>单区块码元宽度 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mapHeight</td><td>单区块码元高度 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>遍历方向 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dmtxdecode_8c_source.html#l00596">596</a> of file <a class="el" href="dmtxdecode_8c_source.html">dmtxdecode.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_175213b75212ce5364cb6f26c47e414b.html">decode</a></li><li class="navelem"><a class="el" href="dmtxdecode_8c.html">dmtxdecode.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
